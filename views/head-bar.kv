<HCloseButton>:
    canvas:
        PushMatrix
        Color:
            rgba: (.5, .5, .5, self.toggle_graffiti)
        Rotate:
            angle: self.angle
            origin: self.center
        SmoothLine:
            width: 1.1
            points: (self.center_x, self.y + dp(4), self.center_x, self.top - dp(4))
        SmoothLine:
            width: 1.1
            points: (self.x + dp(4), self.center_y, self.right - dp(4), self.center_y)
    canvas.after:
        PopMatrix


<HMinimizeButton>:
    canvas:
        Color:
            rgba: (.5, .5, .5, self.toggle_graffiti)
        SmoothLine:
            points: (self.x + dp(4), self.center_y, self.right - dp(4), self.center_y)


<HeadBarDescription>:
    markup: True
    shorten: True
    valign: 'middle'
    font_size: '14sp'
    font_name: 'trebucbd'
    text_size: self.size


<HeadBarControlsContainer>:
    size_hint_x: None
    width: dp(70)
    padding: 0, '6sp'
    spacing: '8sp'

    HMinimizeButton:
        id: minimize
        toggle_graffiti: root.toggle_graffiti if not self.disabled else .1
        on_release: root._invoke_minimizing(self)
    HResizeButton:
        id: resize
        toggle_graffiti: root.toggle_graffiti if not self.disabled else .1
        on_release: root._invoke_resizing(self)
    HCloseButton:
        id: close
        toggle_graffiti: root.toggle_graffiti
        on_release: root._invoke_closing(self)


<HeadBarTemplate>:
    size_hint_y: None
    height: dp(34)
    padding: '10sp', '2sp'
    spacing: '6sp'

    # logo & title UIx
    BoxLayout:
        id: app_desc

        # Logo-part
        HeadBarLogoInterface:
            id: h_logo
            icon_name: root.logo_name

        # Title-part
        HeadBarDescription:
            text: root.title
            color: root.title_color

    HeadBarControlsContainer:
        id: head_controls
        disable_controls: root.disable_controls
